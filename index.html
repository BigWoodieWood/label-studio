<!--
  @file index.html
  @author Elliot Wood
  @version 1.0
  @date 2025-09-02
  @brief Page Web affichant le menu du jour avec une navigation,
         un système d’indicateurs (gauge + barre de progression),
         et des liens vers des ressources externes.
-->

<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Menu du jour</title>
    <link rel="stylesheet" href="style.css">

    <!-- Librairies externes : jQuery, Raphael, JustGage, Popper, Bootstrap -->
    <script
        src="https://code.jquery.com/jquery-3.7.1.js"
        integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4="
        crossorigin="anonymous">
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.3.0/raphael.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/justgage@1.7.0/justgage.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>    
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">   
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script> 
</head>
<body>
    
    <!-- Navigation principale -->
    <nav class="navbar navbar-expand-sm bg-dark navbar-dark">
        <ul class="navbar-nav">
            <li class="nav-item">
                <a class="nav-link" href="index.html">Accueil</a>
            </li>
            <li class="nav-item">
                <a class="nav-link" target="_blank" href="https://progsys.ca/HTML_chap12">Blog</a>
            </li>
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="navbardrop" data-toggle="dropdown">
                    Mes liens
                </a>
                <div class="dropdown-menu">
                    <a class="dropdown-item" target="_blank" href="page2.html">Recettes</a>
                    <a class="dropdown-item" target="_blank" href="https://poulet-rouge.ca/">Restau suggéré</a>
                    <a class="dropdown-item" href="http//monlienici">Lien 3</a>
                </div>
            </li>
        </ul>
    </nav>

    <!-- Titre principal -->
    <h1 id="titre">Menu du jour</h1>

    <!-- Menu du jour en colonnes -->
    <div class="row row-cols-2">
        <div class="col">
            Choix d'entrées
            <div class="col">Salade du chef</div>
            <div class="col">Soupe de légumes</div>
            <div class="col">Bouchées surprises</div>
        </div>
        <div class="col">
            Plats principaux
            <div class="col">
                <a href="https://odelices.ouest-france.fr/recette/poulet-fermier-label-rouge-st-sever-au-foin-de-nos-prairies-r4889/" target="_blank">
                    Volaille de nos prairies
                </a>
            </div>
            <div class="col"><a href="page2.html#peche">Pêche du jour</a></div>
            <div class="col">Bruschetta du jardin</div>
        </div>
        <div class="col">
            Fromages
            <div class="col">Assiette du pays</div>
            <div class="col">Choix du chef</div>
        </div>
        <div class="col">
            Desserts
            <div class="col">Profiteroles</div>
            <div class="col">Délices aux agrumes</div>
            <div class="col"><a href="page2.html#ileflottante">Île flottante</a></div>
            <div class="col">Savoureux au chocolat</div>
        </div>
    </div>         

    <!-- Gauge JustGage + Progress Bar -->
    <div id="g1"></div>
    <div id= "myAlert" class="alert alert-danger alert-dismissible" style="display:none;">
        <button type="button" class="close" data-dismiss="alert" >&times;</button>
        You've reached the maximal value
    </div>
    <div class="d-flex justify-content-center">
        <div class="btn-group">
            <button type="button" id="btnPlus" class="btn btn-primary btn-lg">+</button>
            <button type="button" id="btnMinus" class="btn btn-primary btn-lg">-</button>
        </div>
    </div>
    <div class="progress">
        <div id="myBar" class="progress-bar" role="progressbar" style="width: 50%" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>
    </div>


    <script>
        /*
          @brief Initialisation d’un gauge avec JustGage.
          @details Affiche une jauge de valeur comprise entre 0 et 10.
        */
        var g1 = new JustGage({
            id: 'g1',
            title: 'Max is 10.',
            value:  5,
            min: 0,
            max: 10,
            width: 5,
            height: 5,
            decimals: 0,
            gaugeWidthScale: 0.4,
            startAnimationTime: 1,
            relativeGaugeSize: true,
            startAnimationType: "bounce",
            refreshAnimationTime: 500,
            refreshAnimationType: "bounce"   
        });

        /*
          @brief Incrémente la valeur du gauge et met à jour la barre de progression.
          @return {void}
        */
        document.getElementById("btnPlus").addEventListener("click", function () {
            let bar = document.getElementById("myBar");
            let newVal = g1.config.value + 1;
            if (newVal <= g1.config.max) {
                g1.refresh(newVal);
                bar.style.width = (newVal * 10).toString() + "%";
                bar.setAttribute("aria-valuenow", (newVal*10).toString());
            } else {
                document.getElementById("myAlert").style.display = "block";
            }
        });

        /*
          @brief Décrémente la valeur du gauge et met à jour la barre de progression.
          @return {void}
        */
        document.getElementById("btnMinus").addEventListener("click", function () {
            let bar = document.getElementById("myBar");
            let newVal = g1.config.value - 1;
            if (newVal >= g1.config.min) {
                g1.refresh(newVal);
                bar.style.width = (newVal * 10).toString() + "%";
                bar.setAttribute("aria-valuenow", (newVal*10).toString());
            } else {
                document.getElementById("myAlert").style.display = "block";
            }
        });
    </script>
    
    <!-- Image cliquable -->
    <a href="https://blog.boeufleclair.com/boeufstory-content/uploads/2016/01/Fotolia_93091049_M.jpg" target="_blank">
        <img src="https://blog.boeufleclair.com/boeufstory-content/uploads/2016/01/Fotolia_93091049_M.jpg"
             class="mx-auto d-block rounded-circle"
             alt="Volaille miniature" width="150">
    </a>

    <!-- Footer avec popover -->
    <footer style="text-align: center;">
        <p>
            <a href="#"
               class="popover-link"
               data-toggle="popover"
               data-placement="left"
               title="Adresse"
               data-content="16 rue du Cegep, Blainville">
                Restau Le Grand
            </a>
        </p>
        <p><a href="mailto:elliot.waterpolo@outlook.com">Me contacter !</a></p>
    </footer>

    <script>
        /*
          @brief Active l’affichage de l’adresse via un popover au survol.
          @return {void}
        */
        $(function () {
            $('[data-toggle="popover"]').popover({
                trigger: 'hover'
            });
            
        });
    </script>
</body>
</html>
